(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/goods-list/goods-list"],{"14ad":function(t,e,n){"use strict";var o=n("f3e2"),a=n.n(o);a.a},"20ce":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement;t._self._c},a=[];n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a})},"589e":function(t,e,n){"use strict";(function(t){n("1a38"),n("921b");o(n("66fd"));var e=o(n("d78f"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])},b2e7:function(t,e,n){"use strict";n.r(e);var o=n("bba7"),a=n.n(o);for(var r in o)"default"!==r&&function(t){n.d(e,t,function(){return o[t]})}(r);e["default"]=a.a},bba7:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(n("a34a"));function a(t){return t&&t.__esModule?t:{default:t}}function r(t){return u(t)||i(t)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function i(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function u(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function c(t,e,n,o,a,r,s){try{var i=t[r](s),u=i.value}catch(c){return void n(c)}i.done?e(u):Promise.resolve(u).then(o,a)}function f(t){return function(){var e=this,n=arguments;return new Promise(function(o,a){var r=t.apply(e,n);function s(t){c(r,o,a,s,i,"next",t)}function i(t){c(r,o,a,s,i,"throw",t)}s(void 0)})}}var l=function(){return n.e("components/common/search/search").then(n.bind(null,"62f7"))},d={components:{Search:l},data:function(){return{goodsList:[],totalPages:0,isShow:!1,params:{query:"",cid:"",pagenum:1,pagesize:10}}},onLoad:function(t){this.params.cid=t.cid||"",this.params.query=t.query||"",this.goodsListRequest()},onPullDownRefresh:function(){var e=this;this.goodsList=[],this.params.pagenum=1,setTimeout(function(){e.goodsListRequest(function(){t.stopPullDownRefresh()})},300)},onReachBottom:function(){this.totalPages>this.params.pagenum?(this.params.pagenum++,this.goodsListRequest()):this.isShow=!0},methods:{goodsListRequest:function(){var t=f(o.default.mark(function t(e){var n;return o.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$request({url:"/goods/search",data:this.params});case 2:n=t.sent,this.totalPages=Math.ceil(n.data.message.total/this.params.pagesize),this.goodsList=[].concat(r(this.goodsList),r(n.data.message.goods)),e&&e();case 6:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()}};e.default=d}).call(this,n("6e42")["default"])},d78f:function(t,e,n){"use strict";n.r(e);var o=n("20ce"),a=n("b2e7");for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);n("14ad");var s=n("2877"),i=Object(s["a"])(a["default"],o["a"],o["b"],!1,null,null,null);e["default"]=i.exports},f3e2:function(t,e,n){}},[["589e","common/runtime","common/vendor"]]]);